import{r as t,j as e,U as h,h as b}from"./app-Cegcm5kP.js";import{C as _,T as l}from"./TextInput2-DL_DP_Cs.js";import{T as f}from"./TextAreaInput2-DW4_vkZw.js";import{M as p}from"./MiLista-PpBLvJ2v.js";function k(n){const[o,i]=t.useState({id:null,con_nombre:"",con_direccion:"",con_ciudad:"",con_tipodoc:"",con_nrodoc:"",con_telefono:"",con_email:"",con_logo:null,con_comentarios:"",con_horario:"",con_radicadoconsec:""});t.useEffect(()=>{n.conjuntos&&i({id:n.conjuntos.id||null,con_nombre:n.conjuntos.con_nombre||"",con_direccion:n.conjuntos.con_direccion||"",con_ciudad:n.conjuntos.con_ciudad||"",con_tipodoc:n.conjuntos.con_tipodoc||"",con_nrodoc:n.conjuntos.con_nrodoc||"",con_telefono:n.conjuntos.con_telefono||"",con_email:n.conjuntos.con_email||"",con_logo:n.conjuntos.con_logo||null,con_comentarios:n.conjuntos.con_comentarios||"",con_horario:n.conjuntos.con_horario||"",con_radicadoconsec:n.conjuntos.con_radicadoconsec||""})},[n.conjuntos]);const[u,d]=t.useState(null),a=t.useCallback(c=>{const{name:r,value:s}=c.target;i(m=>({...m,[r]:s}))},[]),g=t.useCallback(c=>{var s;const r=(s=c.target.files)==null?void 0:s[0];r&&i(m=>({...m,con_logo:r}))},[]);t.useEffect(()=>{let c=null;return o.con_logo instanceof File||o.con_logo instanceof Blob?(c=URL.createObjectURL(o.con_logo),d(c)):typeof o.con_logo=="string"?d(o.con_logo):d(null),()=>{c&&URL.revokeObjectURL(c)}},[o.con_logo]);const x=c=>{c.preventDefault(),b.post("/conjunto",o,{onSuccess:()=>{alert("Datos del formulario actualizados.")},onError:r=>{}})},j=[{value:"",label:"-- Seleccione tipo documento --"},{value:"N",label:"Nit"},{value:"C",label:"Cédula Ciudadanía"},{value:"E",label:"Cédula Extranjería"},{value:"P",label:"Pasaporte"}];return e.jsx("div",{className:" flex justify-center",children:e.jsxs(_,{className:"w-full max-w-4xl",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-blue-500 dark:text-white",children:"Administración de Conjunto"}),e.jsx("p",{className:"mt-2 text-sm text-blue-600 dark:text-gray-400",children:"Complete la información del conjunto residencial."})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(l,{label:"Nombre del Conjunto",name:"con_nombre",value:o.con_nombre,onChange:a,placeholder:"Ej: Torres del Parque",required:!0})}),e.jsx(l,{label:"Dirección",name:"con_direccion",value:o.con_direccion,onChange:a,placeholder:"Ej: Calle 100 # 20-30",required:!0}),e.jsx(l,{label:"Ciudad",name:"con_ciudad",value:o.con_ciudad,onChange:a,placeholder:"Ej: Bogotá D.C.",required:!0}),e.jsx(p,{Id:"con_tipodoc",Label:"Tipo Documento",data:o.con_tipodoc,options:j,OnChange:a,required:!0}),e.jsx(l,{label:"Número de Documento",name:"con_nrodoc",value:o.con_nrodoc,onChange:a,placeholder:"Ej: 900.123.456-7",required:!0}),e.jsx(l,{label:"Teléfono",name:"con_telefono",type:"tel",value:o.con_telefono,onChange:a,placeholder:"Ej: 3001234567",required:!0}),e.jsx(l,{label:"Email",name:"con_email",type:"email",value:o.con_email,onChange:a,placeholder:"ejemplo@conjunto.com",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-700 dark:text-gray-300 mb-1",children:"Logo del Conjunto"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 dark:border-slate-600 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx("img",{src:`/logo/${o.con_logo}`,alt:"Logo empresa",className:"h-16 w-16 aspect-square focus:ring-4"}),e.jsxs("div",{className:"flex text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("label",{htmlFor:"con_logo",className:"relative cursor-pointer bg-white dark:bg-slate-800 rounded-md font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[e.jsx("span",{children:"Subir un archivo"}),e.jsx("input",{id:"con_logo",name:"con_logo",type:"file",className:"sr-only",onChange:g,accept:"image/png, image/jpeg, image/gif"})]}),e.jsx("p",{className:"pl-1",children:"o arrastrar y soltar"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),u&&e.jsxs("div",{className:"mt-2 text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vista Previa del Logo"}),e.jsx("img",{src:u,alt:"Vista previa del logo",className:"mx-auto h-32 w-32 object-contain rounded-md bg-gray-100 dark:bg-slate-700 p-1 border border-gray-300 dark:border-slate-600"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(l,{label:"Horario de Atención",name:"con_horario",value:o.con_horario,onChange:a,placeholder:"Ej: L-V 8am-5pm, S 9am-12pm"}),e.jsx(l,{label:"Consecutivo de Radicado",name:"con_radicadoconsec",value:o.con_radicadoconsec,onChange:a,placeholder:"Ej: 2024-001"})]}),e.jsx("div",{children:e.jsx(f,{label:"Comentarios Adicionales",name:"con_comentarios",value:o.con_comentarios,onChange:a,placeholder:"Información relevante para la administración."})}),e.jsx("div",{className:"border-t flex justify-end space-x-3",children:e.jsxs("div",{className:"mt-10",children:[e.jsx(h,{href:"/mimenu",className:"bg-green-500 hover:bg-green-700 text-white px-4 py-1 mx-4 rounded mb-4",children:" Regreso"}),e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white px-4 py-1 mx-4 rounded mb-4",children:"Guardar"})]})})]})]})})}export{k as default};
