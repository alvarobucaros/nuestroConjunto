import{V as h,a as b,r as t,j as a,M as p,U as j,h as _}from"./app-Cegcm5kP.js";import{A as v}from"./AuthenticatedLayout-DtXB4yAw.js";import{C as N,T as c}from"./TextInput2-DL_DP_Cs.js";import"./sweetalert2.esm.all-B0Dix5B2.js";import{T as y}from"./TextAreaInput2-DW4_vkZw.js";function G(m,C,k){h().props.auth.user,b({id:0,cla_grafica:null,cla_titulo:"",cla_detalle:"",cla_nombre:"",cla_apellido:"",cla_telefonos:"",cla_email:"",cla_fchPublicacion:"",cla_fchHasta:"",cla_estado:"C"});const u={id:0,cla_grafica:null,cla_titulo:"",cla_detalle:"",cla_nombre:"",cla_apellido:"",cla_telefonos:"",cla_email:"",cla_fchPublicacion:"",cla_fchHasta:"",cla_estado:"C"},[e,o]=t.useState(u),[x,n]=t.useState(null);t.useEffect(()=>{let l=null;return e.cla_grafica instanceof File||e.cla_grafica instanceof Blob?(l=URL.createObjectURL(e.cla_grafica),n(l)):typeof e.cla_grafica=="string"?n(e.cla_grafica):n(null),()=>{l&&URL.revokeObjectURL(l)}},[e.cla_grafica]);const r=t.useCallback(l=>{const{name:s,value:i}=l.target;o(d=>({...d,[s]:i}))},[]),g=l=>{l.preventDefault(),_.post("/clasificados",e,{onSuccess:()=>{o(u),alert("Datos del formulario actualizados.")},onError:s=>{}})},f=t.useCallback(l=>{var i;const s=(i=l.target.files)==null?void 0:i[0];s&&o(d=>({...d,cla_grafica:s}))},[]);return a.jsxs(v,{auth:m.auth,conjunto:m.conjunto,children:[a.jsx("div",{className:"mb-6 text-center",children:a.jsx(p,{title:"Clasificados"})}),a.jsx("div",{children:a.jsx("div",{className:" flex justify-center",children:a.jsxs(N,{className:"w-full max-w-4xl ",children:[a.jsx("h2",{className:"text-center block text-md font-medium text-blue-700 dark:text-gray-300 mb-1 ",children:"Digite acá su aviso clasificado, al aprobarlo se publicará"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 ",children:a.jsxs("form",{onSubmit:g,className:"",children:[a.jsx(c,{label:"Nombres",name:"cla_nombre",value:e.cla_nombre,onChange:r,placeholder:"Sus nombres",required:!0}),a.jsx(c,{label:"Apellidos",name:"cla_apellido",value:e.cla_apellido,onChange:r,placeholder:"Sus apellidos",required:!0}),a.jsx(c,{label:"Teléfono",name:"cla_telefonos",value:e.cla_telefonos,onChange:r,placeholder:"301...",required:!0}),a.jsx(c,{label:"E-Mail",name:"cla_email",type:"mail",value:e.cla_email,onChange:r,placeholder:"email@com.co",required:!0}),a.jsx(c,{label:"Título aviso",name:"cla_titulo",value:e.cla_titulo,onChange:r,placeholder:"Título clasificado",required:!0}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(y,{label:"Detalles Adicionales",name:"cla_detalle",value:e.cla_detalle,onChange:r,rows:2,cols:140,placeholder:"Información relevante ."})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-blue-700 dark:text-gray-300 mb-1",children:"Gráfica que acompaña"}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 dark:border-slate-600 border-dashed rounded-md",children:a.jsxs("div",{className:"space-y-1 text-center",children:[e.cla_grafica&&a.jsx("img",{src:`/images/${e.cla_grafica}`,alt:"Gráfica a cargar",className:"h-10 w-16 aspect-square focus:ring-4"}),a.jsxs("div",{className:"flex text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("label",{htmlFor:"cla_grafica",className:"relative cursor-pointer bg-white dark:bg-slate-800 rounded-md font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[a.jsx("span",{children:"Subir un archivo"}),a.jsx("input",{id:"cla_grafica",name:"cla_grafica",type:"file",className:"sr-only",onChange:f,accept:"image/png, image/jpeg, image/gif"})]}),a.jsx("p",{className:"pl-1",children:"o arrastrar y soltar"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),x&&a.jsxs("div",{className:"mt-2 text-center",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vista Previa"}),a.jsx("img",{src:x,alt:"Vista previa",className:"mx-auto h-32 w-32 object-contain rounded-md bg-gray-100 dark:bg-slate-700 p-1 border border-gray-300 dark:border-slate-600"})]})]}),a.jsx("div",{className:"border-t flex justify-end space-x-3",children:a.jsxs("div",{className:"mt-10",children:[a.jsx(j,{href:"/",className:"bg-green-500 hover:bg-green-700 text-white px-4 py-1 mx-4 rounded mb-4",children:" Regreso"}),a.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white px-4 py-1 mx-4 rounded mb-4",children:"Guardar"})]})})]})})]})})})]})}export{G as default};
